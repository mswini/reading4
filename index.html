<!DOCTYPE html>
<html>
	<head>
		<title>Reading4</title>
		<link rel="icon" href="favicon.ico" type="image/x-icon" />
		<link rel="apple-touch-icon" href="favicon.ico" />
		<link rel="apple-touch-icon-precomposed" href="favicon.ico" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="viewport" content="user-scalable=no, width=device-width" />
		<meta name="viewport" content="minimum-scale=1.0,width=device-width,maximum-scale=1,user-scalable=no" />
		<style>
			body {text-align:center;font-family:arial;padding-top:2vh}
			textarea, li {text-transform:uppercase}
			textarea {font-family:arial;width:95%;height:6vh;font-size:5vh;padding:1vh;color:lightgrey}
			input {font-size:5vh;padding:1vh;color:darkgrey;width:30vw;cursor:pointer;-webkit-appearance: none;border-radius:0;border:solid 1px lightgrey}
			ul {text-align:left;width:96%;padding:0;margin:0 auto;}
			ul li {list-style:none;padding:1.5vh 0;font-size:5vh;cursor:pointer;color:lightgrey}
			@media (max-width: 1000px) {
				textarea {width:90%;height:10vh;font-size:4vh}
				input {font-size:3vh;width:95%}
				ul {width:95%}
				ul li {font-size:4.6vw}
			}
		</style>
	</head>
	<body ontouchstart>
		<textarea autocapitalize="off" autofocus>Look at that big brown bear swim</textarea>
		<br /><br />
		<input type="button" value="Clear" onclick="clearall()" />
		<input type="button" value="Create" onclick="create()" />
		<br /><br />
		<ul></ul>
		<script>
			var text = document.getElementsByTagName('textarea')[0],
			ul = document.getElementsByTagName('ul')[0],
			speak = (txt) => {
				var word = new SpeechSynthesisUtterance(txt)
				word.lang = 'en';
				word.rate = 1;
				speechSynthesis.speak(word);
			},
			clearall = () => {
				text.value = '';
				ul.innerHTML = '';
				text.focus();
			};
			create = () => {
				var val = text.value.replace(/\n/g,'').split(' ').reverse(),tmp = [],
				colr = ['DC143C','008080','FF4500','4682B4','8A2BE2','D2691E','32CD32'].sort(()=>Math.random()-.5);
				ul.innerHTML = '';
				for(var i= val.length-1;i>-1;i--){
					var li = document.createElement('li');
					
					li.innerText = val.slice(i).reverse().join(' ');
					li.dataset.color = colr[i];
					li.onclick = function(i) {
						speak(this.innerText);
						this.style.color = '#'+this.dataset.color;
					};
					ul.appendChild(li);
				}
			};
			create();
		</script>
